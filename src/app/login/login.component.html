<ng-container *ngIf="authState$ | async as authState; else notLoggedIn">
  <current-user-card [email]="authState?.email"></current-user-card>
</ng-container>

<ng-template #notLoggedIn>
  <mat-card class="login-card">
    <mat-card-header class="login-header">
      {{ "auth.loginWithEmailAndPassword" | translate }}
    </mat-card-header>
    <mat-card-content>
      <mat-form-field class="login-field">
        <mat-label>{{ "auth.email" | translate }}</mat-label>
        <input matInput required id="username" name="username" [placeholder]="'auth.emailPlaceholder'|translate" [(ngModel)]="userInput">
      </mat-form-field>
      <br>
      <mat-form-field class="login-field">
        <mat-label>{{ "auth.password" | translate }}</mat-label>
        <input matInput required id="password" type="password" name="password" [placeholder]="'auth.passwordPlaceholder'| translate"
               [(ngModel)]="passwordInput">
      </mat-form-field>
    </mat-card-content>
    <mat-card-footer class="login-footer">
      <button mat-flat-button color="primary" (click)="login()">Log in</button>
      <hr>
      {{ "auth.forgotPassword"| translate }} <a href="/reset-password">{{ "auth.resetPasswordShort" | translate }}</a>
      <hr>
      {{ "auth.needAnAccount" | translate }} <a href="/signup">{{ "auth.signUp" | translate }}</a>
    </mat-card-footer>
  </mat-card>
</ng-template>
