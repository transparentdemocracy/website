<ng-container *ngIf="authState$ | async as authState; else notLoggedIn">
  <current-user-card [email]="authState?.email"></current-user-card>
</ng-container>

<ng-template #notLoggedIn>
  <mat-card class="login-card">
    <mat-card-header class="login-header">
      Log in using email and password
    </mat-card-header>
    <mat-card-content>
      <mat-form-field class="login-field">
        <mat-label>Email</mat-label>
        <input matInput required id="username" name="username" placeholder="you@example.com" [(ngModel)]="userInput">
      </mat-form-field>
      <br>
      <mat-form-field class="login-field">
        <mat-label>Password</mat-label>
        <input matInput required id="password" type="password" name="password" placeholder="password" [(ngModel)]="passwordInput">
      </mat-form-field>
    </mat-card-content>
    <mat-card-footer class="login-footer">
      <button mat-flat-button color="primary" (click)="login()">Log in</button>
      <hr>
      Forgot your password? <a href="/reset-password">Reset your password</a>
      <hr>
      Need an account? <a href="/signup">Sign up</a>
    </mat-card-footer>
  </mat-card>
</ng-template>
